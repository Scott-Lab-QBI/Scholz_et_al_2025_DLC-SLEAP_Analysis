# Post-DLC tracking analysis (MATLAB and Python)
## Automated behavioral tracking of zebrafish larvae with DeepLabCut and SLEAP: pre-trained networks and datasets of annotated poses 
Leandro A. Scholz, Tessa Mancienne, Sarah J. Stednitz, Ethan K. Scott, Conrad C.Y. Lee\
[BioRxiv Link](https://www.biorxiv.org/content/10.1101/2025.06.04.657938v1)

# Instructions for MATLAB Implementation
1. Generate directory and clone MATLAB analysis package to C:/toolbox/dlc_analysis
2. In dlc_analysis, demo_script.m provides an example script to analyse h5 files generated by DeepLabCut as described in (INSERT LINK TO PAPER'S GITHUB PAGE)
3. There are several parameters that users minimally needs to define:

| Variables | Usage|
| :------- | :------ |
| **body_center_parts** | Tracked body part/s is selected to determine where the center is. Selection of more than 1 part results in averaged location.|
| **thr** | Selection of threshold to reject poor tracking confidence.|
| **frame_rate** | Video acquisation frame-rate to convert calculations into seconds.|
| **smooth_val** | Value for smoothing.|
| **pxl_resolution** | This allows conversion of pixel to mm. Especially useful for speed/accerlation plots.|
| **tolerance** | Allows user to remove noisy signals.|

5. Parameters for bout detection are video and tracking quality dependent. <ins> We advise users to use this with caution! </ins> Bout detection is determined by peak-detection and these parameters determine the sensitivity. We advise users to check how well bout detection works on their own dataset first by visually checking against speed and tail angle plots.
6. The core functions are: get_body_center, get_point_metrics, get_vector_metrics, get_bout_metrics. Each functions has individual help comments if users need additional explainations.
7. Looking at demo_script.m, you will find basic plots for a 6s recording of a 6dpf fish.

# Instruction for PYTHON Implementation
